---
title: "Svenski: Making Anki cards for Swedish wor(l)d!"
filters:
  - shinylive
---

```{shinylive-r}
#| standalone: true

library(shiny)
library(spacyr)
library(DT)

# Initialize the spacyr with the Swedish model
spacy_initialize(model = "sv_core_news_md")

# Define the User Interface
ui <- fluidPage(
    titlePanel("Swedish POS Tagging using SpaCy"),
    sidebarLayout(
        sidebarPanel(
            textAreaInput("text", "Enter Swedish text", "Skriv din text hÃ¤r...", rows = 5),
            actionButton("go", "Analyze Text")
        ),
        mainPanel(
            DTOutput("table")  # DTOutput is part of the DT package
        )
    )
)

# Define the Server Logic
server <- function(input, output, session) {
    results <- eventReactive(input$go, {
        req(input$text)  # ensure there's text input before processing
        spacy_parse(input$text, lemma = TRUE, pos = TRUE)
    })
    
    output$table <- renderDT({
        req(results())  # ensure results are computed before rendering the table
        results()
    }, options = list(pageLength = 10))  # show 10 entries per page by default
}

# Run the Shiny App
shinyApp(ui = ui, server = server)

```