# svenski code
Sys.setenv(RETICULATE_PYTHON = "/Users/rasools/miniconda3/envs/svenski/bin/python")
library(reticulate)
library(spacyr)
library(shiny)
library(DT)
library(httr)
library(jsonlite)

# Initialize the spacyr with the Swedish model
spacy_initialize(model = "sv_core_news_md")
txt <- "Jag kÃ¶rde en bil till Stockholm."
consolidatedtxt <- entity_consolidate(spacy_parse(txt, lemma = FALSE, entity = TRUE, nounphrase = TRUE))

api_key <- "sk-rasool-test-api-key-lo834tJNu7p6B9Avy0kbT3BlbkFJAfKFLiSWhoKcdLaHoX12"
prompt <- "Jag heter Rasool"

response <- POST(
  url = "https://api.openai.com/v1/chat/completions", 
  add_headers(Authorization = paste("Bearer", api_key)),
  content_type_json(),
  encode = "json",
  body = list(
    model = "gpt-3.5-turbo",
    temperature = 1,
    messages = list(list(
      role = "user", 
      content = prompt
    ))
  )
)

content(response)






